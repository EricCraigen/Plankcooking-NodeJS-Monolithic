<%- include("../../shared/head") %>
    <title>Cart | Plankcooking.com</title>
<%- include("../../shared/header") %>
<% 
    let totals = [];
    let subtotal;
%>
<main class="cart__wrapper container-fluid p-0">
    <section class="container text-center m-0 p-0">
      <section class="cart__content__wrapper mt-3">                  
            <div class="cart__content mx-4 mt-5 w-100">
                <div class="cart__info__border__wrapper p-2 m-0">
                    <div class="cart__info__description col-7 m-0 p-0">
                        <p class="text-left p-0 m-0">
                            Enter Billing & Shipping Information > Step 2 of 4 
                        </p>
                    </div>  
                          
                </div>
                <div class="cart__content__main__wrapper m-0 mt-4 p-2">

                    <div class="cart__main__content__description m-0 p-0">
                        <div class="cart__header__billing col-6 p-1">
                            <p class="text-left p-0 m-0">
                                Billing Address 
                            </p>    
                        </div>  
                        <div class="cart__header__shipping d-flex align-items-center col-6 p-1">
                            <p class="text-left p-0 m-0 ml-1">
                                Shipping Address 
                            </p>
                            <label for="sameAsAddress"><input class="mr-1" type="checkbox" id="sameAsAddress" name="sameAsAddress" value="1"> Same as Billing Address</label>
                        </div>    
                    </div>

                    <div class="cart__main__content__item m-0 p-0">

                        <div class="cart__info__billing__inputs col-6 m-0 p-0 pl-1">
                        <form action="/Cart/Checkout" method="POST">
                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        First Name:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="fNameBilling"
                                        name="fNameBilling"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingFirstName === null ? "" : userOrderCart[0].BillingFirstName %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Last Name:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="lnameBilling"
                                        name="lnameBilling"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingLastName === null ? "" : userOrderCart[0].BillingLastName %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Address:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="address1Billing"
                                        name="address1Billing"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingAddress1 === null ? "" : userOrderCart[0].BillingAddress1 %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Address 2:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="address2Billing"
                                        name="address2Billing"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingAddress2 === null ? "" : userOrderCart[0].BillingAddress2 %>"
                                        placeholder="Optional"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        City:	
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="cityBilling"
                                        name="cityBilling"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingCity === null ? "" : userOrderCart[0].BillingCity %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        State:	
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <select class="cart__shipping__select w-100" name="stateBilling" id="stateBilling">
                                        <option value="">Select</option>
                                        <option value="AL">Alabama</option>
                                        <option value="AK">Alaska</option>
                                        <option value="AZ">Arizona</option>
                                        <option value="AR">Arkansas</option>
                                        <option value="CA">California</option>
                                        <option value="CO">Colorado</option>
                                        <option value="CT">Connecticut</option>
                                        <option value="DE">Delaware</option>
                                        <option value="DoC">Dist of Columbia</option>
                                        <option value="FL">Florida</option>
                                        <option value="GA">Georgia</option>
                                        <option value="HI">Hawaii</option>
                                        <option value="ID">Idaho</option>
                                        <option value="IL">Illinois</option>
                                        <option value="IN">Indiana</option>
                                        <option value="IA">Iowa</option>
                                        <option value="KS">Kansas</option>
                                        <option value="KY">Kentucky</option>
                                        <option value="LA">Louisiana</option>
                                        <option value="ME">Maine</option>
                                        <option value="MD">Maryland</option>
                                        <option value="MA">Massachusetts</option>
                                        <option value="MI">Michigan</option>
                                        <option value="MN">Minnesota</option>
                                        <option value="MS">Mississippi</option>
                                        <option value="MO">Missouri</option>
                                        <option value="MT">Montana</option>
                                        <option value="NE">Nebraska</option>
                                        <option value="NV">Nevada</option>
                                        <option value="NH">New Hampshire</option>
                                        <option value="NJ">New Jersey</option>
                                        <option value="NM">New Mexico</option>
                                        <option value="NY">New York</option>
                                        <option value="NC">North Carolina</option>
                                        <option value="ND">North Dakota</option>
                                        <option value="OH">Ohio</option>
                                        <option value="OK">Oklahoma</option>
                                        <option value="OR">Oregon</option>
                                        <option value="PA">Pennsylvania</option>
                                        <option value="RI">Rhode Island</option>
                                        <option value="SC">South Carolina</option>
                                        <option value="SD">South Dakota</option>
                                        <option value="TN">Tennessee</option>
                                        <option value="TX">Texas</option>
                                        <option value="UT">Utah</option>
                                        <option value="VT">Vermont</option>
                                        <option value="VA">Virginia</option>
                                        <option value="WA">Washington</option>
                                        <option value="WV">West Virginia</option>
                                        <option value="WI">Wisconsin</option>
                                        <option value="WY">Wyoming</option>
                                      </select> 
                                </div>
                            </div>   
                   
                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Zip / Postal:	
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="postalCodeBilling"
                                        name="postalCodeBilling"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingPostalCode === null ? "" : userOrderCart[0].BillingPostalCode %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Phone:		
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="phoneBilling"
                                        name="phoneBilling"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingPhone === null ? "" : userOrderCart[0].BillingPhone %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Email:			
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 my-2">
                                    <input
                                        type="text"
                                        id="emailBilling"
                                        name="emailBilling"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].BillingEmail === null ? "" : userOrderCart[0].BillingEmail %>"
                                        />
                                </div>
                            </div>
                        </div>

                        <div class="cart__info__shipping__inputs col-6 m-0 p-0 pl-1">

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        First Name:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="fnameShipping"
                                        name="fnameShipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingFirstName === null ? "" : userOrderCart[0].ShippingFirstName %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Last Name:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="lnameShipping"
                                        name="lnameShipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingLastName === null ? "" : userOrderCart[0].ShippingLastName %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Address:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="address1Shipping"
                                        name="address1Shipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingAddress1 === null ? "" : userOrderCart[0].ShippingAddress1 %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Address 2:
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="address2Shipping"
                                        name="address2Shipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingAddress2 === null ? "" : userOrderCart[0].ShippingAddress2 %>"
                                        placeholder="Optional"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        City:	
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="cityShipping"
                                        name="cityShipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingCity === null ? "" : userOrderCart[0].ShippingCity %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        State:	
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <select class="cart__shipping__select w-100" name="stateShipping" id="stateShipping">
                                        <option value="">Select</option>
                                        <option value="AL">Alabama</option>
                                        <option value="AK">Alaska</option>
                                        <option value="AZ">Arizona</option>
                                        <option value="AR">Arkansas</option>
                                        <option value="CA">California</option>
                                        <option value="CO">Colorado</option>
                                        <option value="CT">Connecticut</option>
                                        <option value="DE">Delaware</option>
                                        <option value="DoC">Dist of Columbia</option>
                                        <option value="FL">Florida</option>
                                        <option value="GA">Georgia</option>
                                        <option value="HI">Hawaii</option>
                                        <option value="ID">Idaho</option>
                                        <option value="IL">Illinois</option>
                                        <option value="IN">Indiana</option>
                                        <option value="IA">Iowa</option>
                                        <option value="KS">Kansas</option>
                                        <option value="KY">Kentucky</option>
                                        <option value="LA">Louisiana</option>
                                        <option value="ME">Maine</option>
                                        <option value="MD">Maryland</option>
                                        <option value="MA">Massachusetts</option>
                                        <option value="MI">Michigan</option>
                                        <option value="MN">Minnesota</option>
                                        <option value="MS">Mississippi</option>
                                        <option value="MO">Missouri</option>
                                        <option value="MT">Montana</option>
                                        <option value="NE">Nebraska</option>
                                        <option value="NV">Nevada</option>
                                        <option value="NH">New Hampshire</option>
                                        <option value="NJ">New Jersey</option>
                                        <option value="NM">New Mexico</option>
                                        <option value="NY">New York</option>
                                        <option value="NC">North Carolina</option>
                                        <option value="ND">North Dakota</option>
                                        <option value="OH">Ohio</option>
                                        <option value="OK">Oklahoma</option>
                                        <option value="OR">Oregon</option>
                                        <option value="PA">Pennsylvania</option>
                                        <option value="RI">Rhode Island</option>
                                        <option value="SC">South Carolina</option>
                                        <option value="SD">South Dakota</option>
                                        <option value="TN">Tennessee</option>
                                        <option value="TX">Texas</option>
                                        <option value="UT">Utah</option>
                                        <option value="VT">Vermont</option>
                                        <option value="VA">Virginia</option>
                                        <option value="WA">Washington</option>
                                        <option value="WV">West Virginia</option>
                                        <option value="WI">Wisconsin</option>
                                        <option value="WY">Wyoming</option>
                                      </select> 
                                </div>
                            </div>  
                      
                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Zip / Postal:	
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="postalCodeShipping"
                                        name="postalCodeShipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingPostalCode === null ? "" : userOrderCart[0].ShippingPostalCode %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Phone:		
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 mt-2">
                                    <input
                                        type="text"
                                        id="phoneShipping"
                                        name="phoneShipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingPhone === null ? "" : userOrderCart[0].ShippingPhone %>"
                                        />
                                </div>
                            </div>

                            <div class="cart__billing__input d-flex justify-content-end align-items-center w-100">
                                <div class="d-flex col-3 m-0 p-0">
                                    <p class="text-right w-100 m-0 p-0 pr-1">
                                        Email:			
                                    </p>
                                </div>
                                <div class="d-flex col-9 m-0 p-0 pr-5 my-2">
                                    <input
                                        type="text"
                                        id="emailShipping"
                                        name="emailShipping"
                                        class="item__quantity form-control m-0 p-0"
                                        value="<%= userOrderCart[0].ShippingEmail === null ? "" : userOrderCart[0].ShippingEmail %>"
                                        />
                                </div>
                            </div>
                            
                        </div>  
                          
                    </div>
                    <% if (errors.length > 0) { %>
                        <% for( let ctr = 0; ctr < errors.length; ctr++ ) { %>
                            <div class="">
                                <p><%= errors[ctr].msg %></p>
                            </div>
                        <% } %>          
                    <% } %> 

                        <div class="cart__main__content__description m-0 p-0 mt-4">
                            <div class="cart__info__description col-6 p-1">
                                <p class="text-left p-0 m-0">
                                    Shipping to You 
                                </p>    
                            </div>  
                            <div class="cart__info__description__two col-2 m-0 p-0">
                                <p class="text-center p-0 m-0">
                                    Price
                                </p>    
                            </div>  
                            <div class="cart__info__description__two col-2 m-0 p-0">
                                <p class="text-center p-0 m-0">
                                    Quantity
                                </p>    
                            </div>
                            <div class="cart__info__description__two col-2 m-0 p-0">
                                <p class="text-center p-0 m-0">
                                    Total
                                </p>    
                            </div>     
                        </div>

                        <% for( let productCtr = 0; productCtr < userCartProducts.length; productCtr++ ) { %>
                            <div class="cart__main__items__list m-0 p-0">
                                <div class="cart__list__item col-6 p-1">
                                    <p class="text-left p-0 m-0">
                                        <%= productInfo[productCtr].Name %>
                                    </p>    
                                </div>  
                                <div class="cart__list__item__two col-2 m-0 p-0">
                                    <p class="text-center p-0 m-0">
                                        $<%= productInfo[productCtr].Price.toFixed(2) %>
                                    </p>    
                                </div>  
                                <div class="cart__list__item__two col-2 m-0 p-0">
                                    <p class="text-center p-0 m-0">
                                        <%= userCartProducts[productCtr].Qty %>
                                    </p>    
                                </div>
                                <div class="cart__list__item__two col-2 m-0 p-0">
                                    <p class="text-center p-0 m-0">
                                        $<%= (productInfo[productCtr].Price * userCartProducts[productCtr].Qty).toFixed(2) %>
                                    </p>   
                                    <% 
                                        totals.push(productInfo[productCtr].Price * userCartProducts[productCtr].Qty).toFixed(2)
                                     %> 
                                </div>     
                            </div>
                    <% } %> 

                    <div class="cart__main__content__subtotal m-0 p-0 py-1">
                        <div class="cart__item__subtotal col-8 p-1">
                        </div>  
                        <div class="cart__item__subtotal__two col-2 m-0 p-0 py-1">
                            <p class="text-right p-0 m-0 py-1 mr-1">
                                Subtotal:
                            </p>    
                        </div>
                        <div class="cart__info__subtotal__two col-2 m-0 p-0 py-1">
                            <p class="text-center p-0 m-0 py-1">
                                $<%= total = totals.reduce(function(a, b){
                                    return a + b;
                                }, 0).toFixed(2); %>
                            </p>   
                            <% totals = []; %> 
                        </div>     
                    </div>

                    <div class="cart__main__content__description m-0 p-0 mt-4">
                        <div class="cart__info__description col-12 p-1">
                            <p class="text-left p-0 m-0">
                                Comments or Additional Information 
                            </p>    
                        </div>       
                    </div>

                    <div class="cart__main__content__subtotal m-0 p-0 py-2">
                        <div class="cart__info__description col-7 m-0 p-0 ml-1">
                            <textarea 
                                class="form-control"
                                id="notes"
                                name="notes"
                                value="<%= userOrderCart[0].Notes %>"
                                >
                            </textarea>
                        </div>    
                    </div>

                    <div class="cart__main__bottom__links m-0 p-0 py-3 mt-4">
                        <div class="cart__info__description col-7 m-0 p-0">
                        </div>    
                        <div class="cart__info__links col-5 m-0 p-0">
                            <a href="/Cart/Cart">
                                <img src="/img/Back_button.png" alt="Back" />
                            </a>
                            <button type="submit">
                                <img src="/img/Checkout_button.png" alt="Checkout" />
                            </button> 
                            <input type="hidden" id="userID" name="userID" value="<%= uniqueUserID %>">
                        </div>
                    </div>

                </form>

                </div>

        </div>
    </section>
    </section>
  </main>

<%- include("../../shared/footer") %>